{"version":3,"file":"index-DECmKy8e.js","sources":["../../src/main.ts"],"sourcesContent":["// import { LevelFactory } from \"./levelfactory\";\r\nlet showGrid: boolean = false;\r\n\r\nconst levelFactory = new LevelFactory();\r\n(window as any).levelFactory = levelFactory;\r\n\r\nlet game: Game;\r\nlet images: {\r\n  star: p5.Image;\r\n  heart: p5.Image;\r\n  ghost: p5.Image;\r\n  Plant: p5.Image;\r\n  tetrisBlock: p5.Image;\r\n  wallBlock: p5.Image;\r\n  WinBlock: p5.Image;\r\n  background: p5.Image;\r\n};\r\n\r\nlet music: {\r\n  backgroundMusic: p5.SoundFile;\r\n};\r\n\r\nlet sounds: {\r\n  gainheart: p5.SoundFile;\r\n  lostheart: p5.SoundFile;\r\n  gameover: p5.SoundFile;\r\n  ghost: p5.SoundFile;\r\n  starPickUp: p5.SoundFile;\r\n  winner: p5.SoundFile;\r\n  blockCollision: p5.SoundFile;\r\n  wallCollision: p5.SoundFile;\r\n  goalline: p5.SoundFile;\r\n};\r\n\r\nlet customFont: p5.Font;\r\nlet gridSize = levelFactory.gridSize;\r\n\r\nfunction preload() {\r\n  music = {\r\n    backgroundMusic: loadSound(\"/assets/music/background-theme.mp3\"),\r\n  };\r\n\r\n  sounds = {\r\n    gainheart: loadSound(\"/assets/sounds/gain-heart.mp3\"),\r\n    lostheart: loadSound(\"/assets/sounds/lost-heart.mp3\"),\r\n    gameover: loadSound(\"/assets/sounds/game-over.mp3\"),\r\n    ghost: loadSound(\"/assets/sounds/ghost.mp3\"),\r\n    starPickUp: loadSound(\"/assets/sounds/star.mp3\"),\r\n    winner: loadSound(\"/assets/sounds/winner.mp3\"),\r\n    blockCollision: loadSound(\"/assets/sounds/error.mp3\"),\r\n    wallCollision: loadSound(\"/assets/sounds/shutdown-sound.mp3\"),\r\n    goalline: loadSound(\"/assets/sounds/goal-line.mp3\"),\r\n  };\r\n\r\n  images = {\r\n    star: loadImage(\"/assets/images/star.webp\"),\r\n    heart: loadImage(\"/assets/images/heart.webp\"),\r\n    ghost: loadImage(\"assets/images/ghost.png\"),\r\n    Plant: loadImage(\"/assets/images/plant.gif\"),\r\n    tetrisBlock: loadImage(\"/assets/images/tetrisBlock.gif\"),\r\n    wallBlock: loadImage(\"/assets/images/wallblock.gif\"),\r\n    WinBlock: loadImage(\"/assets/images/winBlock.gif\"),\r\n    background: loadImage(\"/assets/images/bakgrund.gif\"),\r\n  };\r\n\r\n  customFont = loadFont(\"/assets/fonts/PressStart2P-Regular.ttf\");\r\n}\r\n\r\nfunction setup() {\r\n  const canvasSize = min(windowWidth, windowHeight);\r\n  createCanvas(canvasSize, canvasSize);\r\n  frameRate(60);\r\n  textFont(customFont);\r\n  game = new Game();\r\n  music.backgroundMusic.loop();\r\n}\r\n\r\nfunction draw() {\r\n  background(0);\r\n\r\n  game.update();\r\n  game.draw();\r\n\r\n  if (showGrid) {\r\n    drawDebugGrid();\r\n  }\r\n}\r\n\r\nfunction drawDebugGrid(): void {\r\n  stroke(200, 0, 0, 100);\r\n  strokeWeight(1);\r\n\r\n  for (let x = 0; x <= width; x += gridSize) {\r\n    line(x, 0, x, height);\r\n  }\r\n\r\n  for (let y = 0; y <= height; y += gridSize) {\r\n    line(0, y, width, y);\r\n  }\r\n}\r\n\r\nfunction keyPressed() {\r\n  if (key === \"G\" || key === \"g\") {\r\n    showGrid = !showGrid;\r\n  }\r\n}\r\n\r\nfunction windowResized() {\r\n  const newSize = min(windowWidth, windowHeight);\r\n  resizeCanvas(newSize, newSize);\r\n}\r\n"],"names":["levelFactory"],"mappings":"ssBAGA,MAAMA,EAAe,IAAI,aACxB,OAAe,aAAeA,EA+BhBA,EAAa"}